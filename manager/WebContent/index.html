<!DOCTYPE html>
<html lang=en>
<head>
    <meta charset=utf-8>
    <link rel="stylesheet" type="text/css" href="themes/jquery-ui-1.9.2.custom.css">
    <link rel="stylesheet" type="text/css" href="css/diffusive.css">

    <script src="scripts/jquery-1.8.3.js"></script>
    <script src="scripts/ui/jquery-ui-1.9.2.custom.js"></script>
    <script src="scripts/plugins/jquery.validate.js"></script>
    <script src="scripts/diffuser-list.js"></script>
    <script src="scripts/serializer-list.js"></script>
    <script src="scripts/diffuser-form.js"></script>
    <script type="text/javascript">
        $( document ).ready( function() {

            $(function() {
                $( "#tabs" ).tabs();
            });

//            var serverUri = "";
            var serverUri = "http://192.168.1.5:8182";
            var diffusersUri = serverUri + "/diffusers";
            var serializersUri = diffusersUri + "/serializers";

            // grab the list of diffusers from the server and place it in the diffuser-list tab
            getDiffuserList( diffusersUri, "#diffuser-list" );
            $( ".description-title" ).click( function() {

                $( this ).next().toggle();
            });

            // grab the list of the serializer names from the server and place them in the select UI element
            getSerializerList( serializersUri, "#serializer-name-list", "persistence_xml" );

            // create the diffuser form
            var diffuserForm = new DiffuserForm( "create-diffuser", diffusersUri, {
                successCallback : function( data, textStatus, jqXHR ) {
                    getDiffuserList( diffusersUri, "#diffuser-list" );
                    $( "#tabs" ).tabs( "select", 0 );
                }
            });
        });
    </script>

    <title>Restful Diffuser Manager</title>
</head>

<body>
<header>
    <img src="images/web_banner.png">
</header>

<article>
    <div id="tabs">
        <ul>
            <li><a href="#list-diffusers">Diffuser List</a></li>
            <li><a href="#create-diffuser">Create Diffuser</a></li>
            <li><a href="#tabs-3">Manage Diffusers</a></li>
        </ul>

        <div id="list-diffusers">
            <dl id="diffuser-list"></dl>
        </div>

        <div id="create-diffuser">

        </div>

        <div id="tabs-3">
            <p>And what to put here?</p>
            <embed type="text/html" src="../../docs/diffusive_web/WebContent/overview_guide.html"></embed>
        </div>
    </div>
</article>

</body>
</html>
