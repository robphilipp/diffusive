<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_05) on Thu Jan 24 09:51:54 EST 2013 -->
<title>MethodIntercepterEditor</title>
<meta name="date" content="2013-01-24">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MethodIntercepterEditor";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MethodIntercepterEditor.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/microtitan/diffusive/convertor/MethodIntercepterEditor.html" target="_top">Frames</a></li>
<li><a href="MethodIntercepterEditor.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.microtitan.diffusive.convertor</div>
<h2 title="Class MethodIntercepterEditor" class="title">Class MethodIntercepterEditor</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>javassist.expr.ExprEditor</li>
<li>
<ul class="inheritance">
<li>org.microtitan.diffusive.convertor.MethodIntercepterEditor</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">MethodIntercepterEditor</span>
extends javassist.expr.ExprEditor</pre>
<div class="block">Method intercepter editor is responsible for writing the method-call replacement code that is
 used to replace and method calls to methods annotated with <a href="../../../../org/microtitan/diffusive/annotations/Diffusive.html" title="annotation in org.microtitan.diffusive.annotations"><code>Diffusive</code></a>. The replacement
 code uses a <a href="../../../../org/microtitan/diffusive/diffuser/Diffuser.html" title="interface in org.microtitan.diffusive.diffuser"><code>Diffuser</code></a> to run the method instead of it running directly. The <a href="../../../../org/microtitan/diffusive/diffuser/Diffuser.html" title="interface in org.microtitan.diffusive.diffuser"><code>Diffuser</code></a>
 is taken from the <a href="../../../../org/microtitan/diffusive/diffuser/KeyedDiffuserRepository.html" title="class in org.microtitan.diffusive.diffuser"><code>KeyedDiffuserRepository</code></a>, and then its <code>Diffuser#runObject(double, Class, Object, String, Object...)</code>
 method (or a derivative) is called with the appropriate information.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Robert Philipp</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../org/microtitan/diffusive/diffuser/restful/DiffuserSignature.html" title="class in org.microtitan.diffusive.diffuser.restful">DiffuserSignature</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/microtitan/diffusive/convertor/MethodIntercepterEditor.html#diffuserId">diffuserId</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/microtitan/diffusive/convertor/MethodIntercepterEditor.html#isUseSignature">isUseSignature</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static org.apache.log4j.Logger</code></td>
<td class="colLast"><code><strong><a href="../../../../org/microtitan/diffusive/convertor/MethodIntercepterEditor.html#LOGGER">LOGGER</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/microtitan/diffusive/convertor/MethodIntercepterEditor.html#MethodIntercepterEditor()">MethodIntercepterEditor</a></strong>()</code>
<div class="block">Default no arg constructor that sets the <a href="../../../../org/microtitan/diffusive/convertor/MethodIntercepterEditor.html#isUseSignature"><code>isUseSignature</code></a> to false.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../org/microtitan/diffusive/convertor/MethodIntercepterEditor.html#MethodIntercepterEditor(java.lang.String)">MethodIntercepterEditor</a></strong>(java.lang.String&nbsp;baseSignature)</code>
<div class="block">Constructs the method intercepter.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/microtitan/diffusive/convertor/MethodIntercepterEditor.html#createMessage(java.lang.String, java.lang.Class, java.lang.String, java.lang.String, javassist.expr.MethodCall)">createMessage</a></strong>(java.lang.String&nbsp;header,
             java.lang.Class&lt;?&gt;&nbsp;annotation,
             java.lang.String&nbsp;className,
             java.lang.String&nbsp;methodName,
             javassist.expr.MethodCall&nbsp;methodCall)</code>
<div class="block">Creates a message for the process of instrumenting the method call.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/microtitan/diffusive/convertor/MethodIntercepterEditor.html#createMessage(java.lang.String, java.lang.String, java.lang.String, javassist.expr.MethodCall)">createMessage</a></strong>(java.lang.String&nbsp;header,
             java.lang.String&nbsp;className,
             java.lang.String&nbsp;methodName,
             javassist.expr.MethodCall&nbsp;methodCall)</code>
<div class="block">Creates a message for the process of instrumenting the method call.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/microtitan/diffusive/convertor/MethodIntercepterEditor.html#createMessage(java.lang.String, java.lang.String, java.lang.String, javassist.expr.MethodCall, java.lang.String)">createMessage</a></strong>(java.lang.String&nbsp;header,
             java.lang.String&nbsp;className,
             java.lang.String&nbsp;methodName,
             javassist.expr.MethodCall&nbsp;methodCall,
             java.lang.String&nbsp;code)</code>
<div class="block">Creates a message for the process of instrumenting the method call.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/microtitan/diffusive/convertor/MethodIntercepterEditor.html#edit(javassist.expr.MethodCall)">edit</a></strong>(javassist.expr.MethodCall&nbsp;methodCall)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/microtitan/diffusive/convertor/MethodIntercepterEditor.html#isBaseMethod(java.lang.String, java.lang.String)">isBaseMethod</a></strong>(java.lang.String&nbsp;className,
            java.lang.String&nbsp;methodName)</code>
<div class="block">Returns true if the class name and method name correspond to the base method name (the
 method that is associated with the diffuser, and therefore shouldn't be instrumented)</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_javassist.expr.ExprEditor">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;javassist.expr.ExprEditor</h3>
<code>doit, edit, edit, edit, edit, edit, edit, edit</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="LOGGER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOGGER</h4>
<pre>private static final&nbsp;org.apache.log4j.Logger LOGGER</pre>
</li>
</ul>
<a name="diffuserId">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>diffuserId</h4>
<pre>private final&nbsp;<a href="../../../../org/microtitan/diffusive/diffuser/restful/DiffuserSignature.html" title="class in org.microtitan.diffusive.diffuser.restful">DiffuserSignature</a> diffuserId</pre>
</li>
</ul>
<a name="isUseSignature">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isUseSignature</h4>
<pre>private final&nbsp;boolean isUseSignature</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MethodIntercepterEditor(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MethodIntercepterEditor</h4>
<pre>public&nbsp;MethodIntercepterEditor(java.lang.String&nbsp;baseSignature)</pre>
<div class="block">Constructs the method intercepter. 
 
 If a base signature is specified, then the, <a href="../../../../org/microtitan/diffusive/convertor/MethodIntercepterEditor.html#isUseSignature"><code>isUseSignature</code></a> is set to true, and the
 method call to the method is replaced by a diffuser that is attached to a specific 
 diffuser method signature. If not specified, then the diffuser is the default diffuser in 
 the <a href="../../../../org/microtitan/diffusive/diffuser/KeyedDiffuserRepository.html" title="class in org.microtitan.diffusive.diffuser"><code>KeyedDiffuserRepository</code></a>.
 
 <p>For the application-attached diffuser, we want to use the one and only, the default, 
 diffuser. However, for the diffusers attached to the restful diffuser manager resource, 
 there is one diffuser per diffuser method signature, and so we want to use the signature.
 
 <p>Effectively, the rule-of-thumb is that for application-attached diffusers use the other constructor,
 the one with no arguments; and for diffusers managed by the <a href="../../../../org/microtitan/diffusive/diffuser/restful/resources/RestfulDiffuserManagerResource.html" title="class in org.microtitan.diffusive.diffuser.restful.resources"><code>RestfulDiffuserManagerResource</code></a> set
 the base signature to the signature associated with the diffuser that uses this method intercepter
 to instrument method calls.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>baseSignature</code> - The base signature is the signature associated with the specified diffuser.
 If the base signature is specified, and the method call is to a method that has the same signature,
 then the method call is not replaced by a call to the diffuser's runObject(...) method.</dd></dl>
</li>
</ul>
<a name="MethodIntercepterEditor()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MethodIntercepterEditor</h4>
<pre>public&nbsp;MethodIntercepterEditor()</pre>
<div class="block">Default no arg constructor that sets the <a href="../../../../org/microtitan/diffusive/convertor/MethodIntercepterEditor.html#isUseSignature"><code>isUseSignature</code></a> to false.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><code>#MethodIntercepterEditor(boolean)</code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="isBaseMethod(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isBaseMethod</h4>
<pre>private&nbsp;boolean&nbsp;isBaseMethod(java.lang.String&nbsp;className,
                   java.lang.String&nbsp;methodName)</pre>
<div class="block">Returns true if the class name and method name correspond to the base method name (the
 method that is associated with the diffuser, and therefore shouldn't be instrumented)</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>className</code> - The name of the class containing the method</dd><dd><code>methodName</code> - The name of the method</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the call is in regards to the base method; false otherwise</dd></dl>
</li>
</ul>
<a name="edit(javassist.expr.MethodCall)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>edit</h4>
<pre>public&nbsp;void&nbsp;edit(javassist.expr.MethodCall&nbsp;methodCall)</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>edit</code>&nbsp;in class&nbsp;<code>javassist.expr.ExprEditor</code></dd>
</dl>
</li>
</ul>
<a name="createMessage(java.lang.String, java.lang.String, java.lang.String, javassist.expr.MethodCall)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createMessage</h4>
<pre>private static&nbsp;java.lang.String&nbsp;createMessage(java.lang.String&nbsp;header,
                             java.lang.String&nbsp;className,
                             java.lang.String&nbsp;methodName,
                             javassist.expr.MethodCall&nbsp;methodCall)</pre>
<div class="block">Creates a message for the process of instrumenting the method call.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>header</code> - The explanation of the message</dd><dd><code>className</code> - The name of the <code>Class</code> containing the method to which calls are instrumented</dd><dd><code>methodName</code> - The name of the method to be instrumented</dd><dd><code>methodCall</code> - The javassist <code>MethodCall</code> containing information about the method call</dd>
<dt><span class="strong">Returns:</span></dt><dd>the message</dd></dl>
</li>
</ul>
<a name="createMessage(java.lang.String, java.lang.Class, java.lang.String, java.lang.String, javassist.expr.MethodCall)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createMessage</h4>
<pre>private static&nbsp;java.lang.String&nbsp;createMessage(java.lang.String&nbsp;header,
                             java.lang.Class&lt;?&gt;&nbsp;annotation,
                             java.lang.String&nbsp;className,
                             java.lang.String&nbsp;methodName,
                             javassist.expr.MethodCall&nbsp;methodCall)</pre>
<div class="block">Creates a message for the process of instrumenting the method call.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>header</code> - The explanation of the message</dd><dd><code>annotation</code> - The annotation identifying the method as a diffusive method (should be <a href="../../../../org/microtitan/diffusive/annotations/Diffusive.html" title="annotation in org.microtitan.diffusive.annotations"><code>Diffusive</code></a></dd><dd><code>className</code> - The name of the <code>Class</code> containing the method to which calls are instrumented</dd><dd><code>methodName</code> - The name of the method to be instrumented</dd><dd><code>methodCall</code> - The javassist <code>MethodCall</code> containing information about the method call</dd>
<dt><span class="strong">Returns:</span></dt><dd>the message</dd></dl>
</li>
</ul>
<a name="createMessage(java.lang.String, java.lang.String, java.lang.String, javassist.expr.MethodCall, java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>createMessage</h4>
<pre>private static&nbsp;java.lang.String&nbsp;createMessage(java.lang.String&nbsp;header,
                             java.lang.String&nbsp;className,
                             java.lang.String&nbsp;methodName,
                             javassist.expr.MethodCall&nbsp;methodCall,
                             java.lang.String&nbsp;code)</pre>
<div class="block">Creates a message for the process of instrumenting the method call.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>header</code> - The explanation of the message</dd><dd><code>className</code> - The name of the <code>Class</code> containing the method to which calls are instrumented</dd><dd><code>methodName</code> - The name of the method to be instrumented</dd><dd><code>methodCall</code> - The javassist <code>MethodCall</code> containing information about the method call</dd><dd><code>code</code> - The code that will replace the method call to the diffusive method</dd>
<dt><span class="strong">Returns:</span></dt><dd>the message</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MethodIntercepterEditor.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/microtitan/diffusive/convertor/MethodIntercepterEditor.html" target="_top">Frames</a></li>
<li><a href="MethodIntercepterEditor.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
